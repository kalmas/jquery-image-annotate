{"version":3,"file":"jquery.annotate.min.js","sources":["../../js/jquery.annotate.js"],"names":["$","fn","annotateImage","options","opts","extend","defaults","image","this","mode","getUrl","saveUrl","deleteUrl","editable","useAjax","notes","sortField","textFields","tipTemplate","canvas","children","hide","after","height","width","css","attr","hover","show","ajaxLoad","load","button","click","add","Array","undefined","clear","i","length","destroy","getJSON","getTicks","data","sort","a","b","fields","toLowerCase","annotateView","now","Date","getTime","annotateEdit","createSaveButton","createCancelButton","note","ok","form","forEach","fieldName","find","val","appendPosition","ajax","url","serialize","error","alert","success","annotation_id","id","dataType","resetPosition","push","append","cancel","saveAsHtml","target","element","html","createHiddenField","text","top","left","name","value","newNote","Object","area","formMarkup","fieldValue","offset","parseInt","resizable","handles","stop","draggable","containment","drag","prototype","remove","prepend","tipString","replace","listItem","setPosition","annotation","edit","fadeIn","addClass","fadeOut","removeClass","del","areaFields","position","jQuery"],"mappings":"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"}