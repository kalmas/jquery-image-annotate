{"version":3,"file":"jquery.annotate.min.js","sources":["../../js/jquery.annotate.js"],"names":["$","guid","s4","Math","floor","random","toString","substring","fn","annotateImage","options","opts","extend","defaults","image","this","mode","getUrl","saveUrl","deleteUrl","editable","useAjax","notes","sortField","textFields","tipTemplate","canvas","children","hide","after","height","width","css","attr","hover","show","ajaxLoad","load","button","click","add","Array","undefined","clear","i","length","destroy","getJSON","getTicks","data","sort","a","b","fields","toLowerCase","annotateView","now","Date","getTime","annotateEdit","createSaveButton","createCancelButton","note","ok","form","forEach","fieldName","find","val","appendPosition","ajax","url","serialize","error","alert","success","annotation_id","id","dataType","resetPosition","push","append","cancel","saveAsHtml","target","element","html","createHiddenField","text","top","left","name","value","newNote","Object","area","formMarkup","fieldValue","offset","parseInt","resizable","handles","stop","draggable","containment","drag","prototype","remove","prepend","tipString","replace","listItem","setPosition","annotation","edit","fadeIn","addClass","fadeOut","removeClass","del","areaFields","position","jQuery"],"mappings":"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"}